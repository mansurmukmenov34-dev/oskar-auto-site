<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>OSKAR –ê–≤—Ç–æ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body{margin:0;font-family:Arial,sans-serif;background:#f4f4f4}
    header{background:#fff;padding:20px;text-align:center;border-bottom:1px solid #ddd}
    header img{max-width:200px}
    h1{margin:10px 0 5px}
    .subtitle{color:#555;font-size:14px}
    .container{padding:15px;max-width:900px;margin:auto}
    .cars{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px}
    .car{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,.05)}
    .car img{width:100%;height:180px;object-fit:cover}
    .car-body{padding:15px}
    .price{font-weight:bold;margin:10px 0}
    button{background:#007bff;color:#fff;border:none;padding:10px;width:100%;border-radius:8px;font-size:16px;cursor:pointer}
    button.black{background:#000;margin-top:20px}
    .admin-btn{background:#333;margin-top:15px}
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;justify-content:center;align-items:center}
    .modal-content{background:#fff;padding:20px;border-radius:12px;width:90%;max-width:400px}
    input,select{width:100%;padding:10px;margin-bottom:10px}
    .row{display:flex;gap:5px}
    .row button{flex:1;font-size:14px}
  </style>
</head>
<body>

<header>
  <h1>–û–°–ö–ê–† ¬∑ –ü—Ä–µ–º–∏—É–º –∞–≤—Ç–æ</h1>
  <div class="subtitle">–ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä –∏ –≤—ã–∫—É–ø –≤ –¢—é–º–µ–Ω–∏</div>
</header>

<div class="container">
  <div class="cars" id="cars"></div>

  <button class="black" onclick="openRequest()">üöó –ü–æ–¥–æ–±—Ä–∞—Ç—å –∞–≤—Ç–æ</button>
  <button class="admin-btn" onclick="openAdmin()">–ê–¥–º–∏–Ω–∫–∞</button>
</div>

<!-- –ó–ê–Ø–í–ö–ê -->
<div class="modal" id="requestModal">
  <div class="modal-content">
    <h3>–ó–∞–ø–∏—Å—å</h3>
    <input id="name" placeholder="–ò–º—è">
    <input id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
    <select id="time"></select>
    <button onclick="sendRequest()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </div>
</div>

<!-- –ê–î–ú–ò–ù–ö–ê -->
<div class="modal" id="adminModal">
  <div class="modal-content">
    <input id="adminPass" placeholder="–ü–∞—Ä–æ–ª—å">
    <button onclick="login()">–í–æ–π—Ç–∏</button>

    <div id="adminPanel" style="display:none">
      <h4>–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ</h4>
      <input id="carName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
      <input id="carPrice" placeholder="–¶–µ–Ω–∞">
      <input type="file" id="carImg">
      <button onclick="addCar()">–î–æ–±–∞–≤–∏—Ç—å</button>

      <h4>–ê–≤—Ç–æ</h4>
      <div id="adminCars"></div>

      <h4>–í—Ä–µ–º—è</h4>
      <input id="newTime" placeholder="14:00">
      <button onclick="addTime()">–î–æ–±–∞–≤–∏—Ç—å</button>
      <div id="adminTimes"></div>
    </div>
  </div>
</div>

<script>
let cars = JSON.parse(localStorage.getItem('cars')) || [];
let times = JSON.parse(localStorage.getItem('times')) || ["14:00","15:00"];

function render(){
  const c=document.getElementById('cars');
  c.innerHTML='';
  cars.forEach((car,i)=>{
    c.innerHTML+=`
      <div class="car">
        <img src="${car.img}">
        <div class="car-body">
          <h3>${car.name}</h3>
          <div class="price">${car.price} ‚ÇΩ</div>
          <button onclick="openRequest()">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
        </div>
      </div>`;
  });

  document.getElementById('time').innerHTML=times.map(t=>`<option>${t}</option>`).join('');

  document.getElementById('adminCars').innerHTML=cars.map((c,i)=>`
    <div class="row">
      <span>${c.name}</span>
      <button onclick="delCar(${i})">‚ùå</button>
    </div>`).join('');

  document.getElementById('adminTimes').innerHTML=times.map((t,i)=>`
    <div class="row">
      <span>${t}</span>
      <button onclick="delTime(${i})">‚ùå</button>
    </div>`).join('');
}

function openRequest(){requestModal.style.display='flex'}
function openAdmin(){adminModal.style.display='flex'}

function login(){
  if(adminPass.value==='admin123'){
    adminPanel.style.display='block';
    render();
  }
}

function addCar(){
  const r=new FileReader();
  r.onload=()=>{
    cars.push({name:carName.value,price:carPrice.value,img:r.result});
    localStorage.setItem('cars',JSON.stringify(cars));
    render();
  }
  r.readAsDataURL(carImg.files[0]);
}

function delCar(i){
  cars.splice(i,1);
  localStorage.setItem('cars',JSON.stringify(cars));
  render();
}

function addTime(){
  times.push(newTime.value);
  localStorage.setItem('times',JSON.stringify(times));
  render();
}

function delTime(i){
  times.splice(i,1);
  localStorage.setItem('times',JSON.stringify(times));
  render();
}

function sendRequest(){
  alert('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞');
  requestModal.style.display='none';
}

render();
</script>

</body>
</html>

